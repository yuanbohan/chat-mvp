<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat MVP - OpenAI 聊天应用</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>💬</text></svg>">
</head>
<body>
    <div class="container">
        <!-- 顶部标题栏 -->
        <header class="header">
            <div class="header-content">
                <h1 class="title">
                    <span class="icon">🤖</span>
                    Chat MVP
                </h1>
                <p class="subtitle">基于 OpenAI GPT-4o 的智能聊天助手</p>
            </div>
            <div class="header-actions">
                <button id="clear-btn" class="btn btn-secondary" title="清除聊天历史">
                    <span class="icon">🗑️</span>
                    清除历史
                </button>
                <button id="theme-toggle" class="btn btn-secondary" title="切换主题">
                    <span class="icon">🌙</span>
                </button>
            </div>
        </header>

        <!-- 聊天区域 -->
        <main class="chat-container">
            <div id="chat-messages" class="messages">
                <!-- 欢迎消息 -->
                <div class="message assistant">
                    <div class="message-avatar">🤖</div>
                    <div class="message-content">
                        <div class="message-text">
                            你好！我是基于 GPT-4o 的智能助手。我可以帮助你解答问题、提供建议或进行有趣的对话。请随意向我提问！
                        </div>
                        <div class="message-time">
                            <span id="welcome-time"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 加载指示器 -->
            <div id="loading" class="loading hidden">
                <div class="message assistant">
                    <div class="message-avatar">🤖</div>
                    <div class="message-content">
                        <div class="typing-indicator">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- 输入区域 -->
        <footer class="input-container">
            <div class="input-wrapper">
                <textarea
                    id="message-input"
                    class="message-input"
                    placeholder="输入你的消息... (Shift+Enter 换行，Enter 发送)"
                    rows="1"
                    maxlength="2000"
                ></textarea>
                <button id="send-btn" class="send-btn" disabled title="发送消息 (Enter)">
                    <span class="icon">📤</span>
                </button>
            </div>
            <div class="input-footer">
                <span class="char-counter">
                    <span id="char-count">0</span>/2000
                </span>
                <span class="tips">
                    支持 Markdown 格式 • 由 OpenAI GPT-4o 驱动
                </span>
            </div>
        </footer>
    </div>

    <!-- 状态提示 -->
    <div id="status-toast" class="toast hidden"></div>

    <!-- 确认对话框 -->
    <div id="confirm-modal" class="modal hidden">
        <div class="modal-content">
            <h3>确认清除历史</h3>
            <p>确定要清除所有聊天历史吗？此操作无法撤销。</p>
            <div class="modal-actions">
                <button id="confirm-cancel" class="btn btn-secondary">取消</button>
                <button id="confirm-clear" class="btn btn-danger">确认清除</button>
            </div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
